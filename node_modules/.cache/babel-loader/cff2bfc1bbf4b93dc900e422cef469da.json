{"ast":null,"code":"import _classCallCheck from \"/Users/adotmob/Desktop/bikerace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/adotmob/Desktop/bikerace/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/adotmob/Desktop/bikerace/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _inherits from \"/Users/adotmob/Desktop/bikerace/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/adotmob/Desktop/bikerace/src/Photos/Photos.js\";\nimport React, { Component } from \"react\";\nimport PhotoItem from \"./PhotoItem\";\nimport { fetchPhotos } from \"../api/api.js\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nvar PADDING = 100;\nvar PADDING_SCROLL = 300;\n\nvar Photos =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Photos, _Component);\n\n  function Photos(props) {\n    var _this;\n\n    _classCallCheck(this, Photos);\n\n    state = {\n      photos: [],\n      isLoadingPhotos: true,\n      hasReached: false\n    };\n    _this.containerRef = null;\n\n    _this.setContainerRef = function (element) {\n      _this.containerRef = element;\n    };\n\n    return _possibleConstructorReturn(_this);\n  }\n\n  _createClass(Photos, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.searchPhotos();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.addEventListener('scroll', console.log('tamere'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        style: {\n          marginTop: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.state.photos.map(function (photo) {\n        return React.createElement(Col, {\n          xs: 3,\n          style: {\n            marginBottom: \"10px\"\n          },\n          key: photo.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"column is-one-quarter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, React.createElement(PhotoItem, {\n          photo: photo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        })));\n      })));\n    }\n  }]);\n\n  return Photos;\n}(Component);\n\nexport default Photos;","map":{"version":3,"sources":["/Users/adotmob/Desktop/bikerace/src/Photos/Photos.js"],"names":["React","Component","PhotoItem","fetchPhotos","Container","Row","Col","PADDING","PADDING_SCROLL","Photos","props","state","photos","isLoadingPhotos","hasReached","containerRef","setContainerRef","element","searchPhotos","window","addEventListener","console","log","marginTop","map","photo","marginBottom","id"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,QAAoC,iBAApC;AAEA,IAAMC,OAAO,GAAG,GAAhB;AACA,IAAMC,cAAc,GAAG,GAAvB;;IAEMC,M;;;;;AACJ,kBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChBC,IAAAA,KAAK,GAAG;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,eAAe,EAAE,IAFX;AAGNC,MAAAA,UAAU,EAAE;AAHN,KAAR;AAKA,UAAKC,YAAL,GAAoB,IAApB;;AACA,UAAKC,eAAL,GAAuB,UAAAC,OAAO,EAAI;AAChC,YAAKF,YAAL,GAAoBE,OAApB;AACD,KAFD;;AAPgB;AAUjB;;;;wCAEmB;AAClB,WAAKC,YAAL;AAED;;;2CAEsB;AACrBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAlC;AACD;;;6BA8BQ;AACP,aACI,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKZ,KAAL,CAAWC,MAAX,CAAkBY,GAAlB,CAAsB,UAAAC,KAAK,EAAI;AAC9B,eACE,oBAAC,GAAD;AAAK,UAAA,EAAE,EAAE,CAAT;AAAY,UAAA,KAAK,EAAE;AAAEC,YAAAA,YAAY,EAAE;AAAhB,WAAnB;AAA6C,UAAA,GAAG,EAAED,KAAK,CAACE,EAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAEF,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;AAOD,OARA,CADH,CADF,CADJ;AAeD;;;;EAlEkBxB,S;;AAqErB,eAAeQ,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PhotoItem from \"./PhotoItem\";\nimport { fetchPhotos } from \"../api/api.js\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nconst PADDING = 100\nconst PADDING_SCROLL = 300\n\nclass Photos extends Component {\n  constructor(props){\n    state = {\n      photos: [],\n      isLoadingPhotos: true,\n      hasReached: false\n    }; \n    this.containerRef = null\n    this.setContainerRef = element => {\n      this.containerRef = element\n    }\n  }\n  \n  componentDidMount() {\n    this.searchPhotos();\n   \n  }\n\n  componentWillUnmount() {\n    window.addEventListener('scroll', console.log('tamere'))\n  }\n\n  searchPhotos = (tags = \"bikerace\") => {\n    const tagsParam = tags.replace(\"\", \",\");\n    fetchPhotos(tagsParam)\n      .then(photos => {\n        this.setState({\n          photos,\n          isLoadingPhotos: false\n        });\n      })\n      .catch(e => {\n        this.setState({\n          isLoadingPhotos: false\n        });\n        alert(\"Could not retrieve photos. Please check your credentials.\");\n      });\n  };\n\n  onScroll = () => {\n    const hasReached =\n      this.containerRef &&\n      window.scrollY + window.innerHeight >=\n        this.containerRef.offsetHeight - PADDING_SCROLL\n    return !this.state.hasReached && hasReached && this.setState({ hasReached })\n  }\n  onFetchDone = callback => {\n    return this.setState({ hasReached: false }, callback)\n  }\n\n  render() {\n    return (\n        <Container style={{ marginTop: \"30px\" }}>\n          <Row>\n            {this.state.photos.map(photo => {\n              return (\n                <Col xs={3} style={{ marginBottom: \"10px\" }} key={photo.id}>\n                  <div className=\"column is-one-quarter\">\n                    <PhotoItem photo={photo} />\n                  </div>\n                </Col>\n              );\n            })}\n          </Row>\n        </Container>\n    );\n  }\n}\n\nexport default Photos;\n"]},"metadata":{},"sourceType":"module"}